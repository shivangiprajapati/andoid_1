
employeedb.java:
public class employeedb extends SQLiteOpenHelper {
    public employeedb(@Nullable Context context, @Nullable String name, @Nullable SQLiteDatabase.CursorFactory factory, int version) {
        super(context, "employee", factory, 1);
    }

    @Override
    public void onCreate(SQLiteDatabase sqLiteDatabase) {
        sqLiteDatabase.execSQL("create table emp (eid integer primary key autoincrement,ename text, designation text, phoneno integer, email text)");
    }

    @Override
    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {
        sqLiteDatabase.execSQL("drop table if exists emp");
        onCreate(sqLiteDatabase);
    }

    public void addData(String name,String designation, int phoneno, String email){
        SQLiteDatabase db = this.getWritableDatabase();
        ContentValues cv = new ContentValues();
        cv.put("ename",name);
        cv.put("designation",designation);
        cv.put("phoneno",phoneno);
        cv.put("email",email);
        db.insert("emp",null,cv);
        db.close();
    }

    public List<String> displaynames(){
        List<String> namelist = new ArrayList<>();
        SQLiteDatabase db = this.getWritableDatabase();
        Cursor result = db.rawQuery("select ename from emp",null);
        while(result.moveToNext()){
            namelist.add(result.getString(0));
        }
        return namelist;
    }

    public Cursor findbyname(String name){
        SQLiteDatabase db = this.getWritableDatabase();
        Cursor result = db.rawQuery("select * from emp where ename=?",new String[]{name});
        return result;

    }
}



insertemp.java:

public class insertemp extends AppCompatActivity {

    TextView ename, phoneno, email;
    AutoCompleteTextView designation;
    Button inserbtn;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_insertemp);
        ename=findViewById(R.id.employeename);
        phoneno=findViewById(R.id.employeephone);
        email=findViewById(R.id.employeeemail);
        designation=findViewById(R.id.employeedesignation);
        inserbtn=findViewById(R.id.insertdata);

        String[] designations = {"Clerk","Executive","Manager"};

        ArrayAdapter adp = new ArrayAdapter(insertemp.this, androidx.appcompat.R.layout.support_simple_spinner_dropdown_item,designations);

        designation.setAdapter(adp);
        designation.setThreshold(1);

        employeedb employeedatabase = new employeedb(insertemp.this,"employee",null,1);

        inserbtn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                String employeephone = phoneno.getText().toString();
                Integer phoneno = Integer.parseInt(employeephone);
                employeedatabase.addData(ename.getText().toString(),designation.getText().toString(),phoneno,email.getText().toString());
                Intent i = new Intent(insertemp.this,MainActivity.class);
                startActivity(i);
            }
        });

    }
}


mainactivity:
public class MainActivity extends AppCompatActivity {

    ListView employeelist;

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.mymenu,menu);
        return super.onCreateOptionsMenu(menu);
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        employeelist=findViewById(R.id.emplist);

        employeedb employeenames = new employeedb(MainActivity.this,"employee",null,1);

        ArrayAdapter<String> adp = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1,employeenames.displaynames());

        employeelist.setAdapter(adp);
    }

    @Override
    public boolean onOptionsItemSelected(@NonNull MenuItem item) {

        switch (item.getItemId()){
            case R.id.m1:
                Intent i1 = new Intent(MainActivity.this,insertemp.class);
                startActivity(i1);
                break;

            case R.id.m2:
                Intent i2 = new Intent(MainActivity.this,MainActivity.class);
                startActivity(i2);
                break;

            case R.id.m3:
                Intent i3 = new Intent(MainActivity.this,searchemployee.class);
                startActivity(i3);
                break;
        }
        return super.onOptionsItemSelected(item);
    }

}
 

searchemp:
public class searchemployee extends AppCompatActivity {

    AutoCompleteTextView empsearch;
    TextView empid, empname, empdesignation, phoneno, empemail;
    Button searchbtn;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_searchemployee);
        empsearch=findViewById(R.id.employeesearch);
        searchbtn=findViewById(R.id.searchbtn);
        empid=findViewById(R.id.employeeid);
        empname=findViewById(R.id.empname);
        empdesignation=findViewById(R.id.empdesignation);
        phoneno=findViewById(R.id.empphone);
        empemail=findViewById(R.id.empemail);

        employeedb empdata = new employeedb(searchemployee.this,"employee",null,1);

        ArrayAdapter adp = new ArrayAdapter(searchemployee.this,androidx.appcompat.R.layout.support_simple_spinner_dropdown_item,
                empdata.displaynames());

        empsearch.setAdapter(adp);
        empsearch.setThreshold(1);

        searchbtn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Cursor result = empdata.findbyname(empsearch.getText().toString());
                result.moveToNext();
                empid.setText(result.getString(0));
                empname.setText(result.getString(1));
                empdesignation.setText(result.getString(2));
                phoneno.setText(result.getString(3));
                empemail.setText(result.getString(4));
            }
        });


    }
}